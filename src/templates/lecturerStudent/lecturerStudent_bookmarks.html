<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <style>
        .btn-bookmark {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
        }
    </style>
</head>
<body>
    <header>
        <a href="{{ url_for('lecturer_student_home') }}" class="icon"
            style="text-decoration:none; color:inherit;">&#8962;</a>
        <span class="header-title">Bookmarks</span>

        <form action="{{ url_for('lecturer_student_bookmarks') }}" method="GET"
            style="display:flex; align-items:center;">
            <div class="search-container" style="width: 200px;">
                <input type="text" name="query" placeholder="Search saved..."
                    value="{{ request.args.get('query', '') }}">
                <button type="submit"
                    style="background:none; border:none; cursor:pointer;"><span>&#128269;</span></button>
            </div>
        </form>
        <a href="{{ url_for('lecturer_student_dashboard') }}" class="icon"
            style="text-decoration:none; color:inherit;">&#128100;</a>
    </header>

    <div style="background: #000a20; padding: 10px; display: flex; justify-content: flex-end; align-items: center;">
        <div class="pagenumber-container">
            <span>{{ total }} Saved</span>
            <span class="divider">|</span>
            {% if current_page > 1 %}
            <a href="{{ url_for('lecturer_student_bookmarks', page=current_page-1, query=request.args.get('query')) }}"
                class="page-link">&lt; Prev</a>
            {% endif %}
            {% for p in range(1, pages + 1) %}
            <a href="{{ url_for('lecturer_student_bookmarks', page=p, query=request.args.get('query')) }}"
                class="page-link {% if p == current_page %}active{% endif %}">{{ p }}</a>
            {% endfor %}
            {% if current_page < pages %} <a
                href="{{ url_for('lecturer_student_bookmarks', page=current_page+1, query=request.args.get('query')) }}"
                class="page-link">Next &gt;</a>
                {% endif %}
        </div>
    </div>
    <div class="list-container">
        {% for paper in papers %}
        <div class="list-item">
            <div class="index">{{ (current_page - 1) * 10 + loop.index }}.</div>
            {% if paper.CoverImage %}
            <img src="{{ url_for('static', filename='uploads/covers/' + paper.CoverImage) }}"
                class="front-page-placeholder" style="object-fit: cover;">
            {% else %}
            <div class="front-page-placeholder">FRONT PAGE</div>
            {% endif %}

            <div class="item-details">
                <h3><a href="{{ paper.LinkToPaper }}" target="_blank" style="text-decoration:none; color:inherit;">{{
                        paper.PaperTitle }}</a></h3>
                <p>Author(s): {{ paper.Authors }}</p>
                <p>{{ paper.DatePublished }}, {{ paper.PaperType }}</p>
            </div>

            <form action="{{ url_for('toggle_bookmark') }}" method="POST">
                <input type="hidden" name="paper_id" value="{{ paper.PaperID }}">
                <button type="submit" class="btn-bookmark">
                    <div class="icon-bookmark filled" title="Unsave"></div>
                </button>
            </form>
        </div>
        {% else %}
        <div style="padding: 20px; text-align: center; color: white;">No bookmarks found.</div>
        {% endfor %}
    </div>
</body>
</html>